webpackJsonp([5],{Gu7T:function(e,t,s){"use strict";t.__esModule=!0;var i,a=s("c/Tr"),l=(i=a)&&i.__esModule?i:{default:i};t.default=function(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return(0,l.default)(e)}},RpDB:function(e,t){},"i8/b":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Gu7T"),a=s.n(i),l=s("BO1k"),c=s.n(l),n={name:"loongSelect",data:function(){return{isShowList:!1,iconClass:"",selectDatas:[],chooseVal:"",searchVal:"",isSelect:[],selectArr:[],finSelectData:[],count:-1}},methods:{selectBox:function(){this.isShowList=!this.isShowList,this.iconClass=this.isShowList?"select-icon-rotate":"select-icon-rotate1"},clickOther:function(){var e=this.$refs.selectBox,t=this.$refs.listBox,s=e.contains(event.target),i=t.contains(event.target);s||i||(this.isShowList&&(this.iconClass="select-icon-rotate1"),this.isShowList=!1)},search:function(){this.selectDatas=[];var e={};for(var t in this.count=-1,this.count++,this.selectData)(e={})[this.selectVal]="",-1!=this.selectData[t][this.selectVal].indexOf(this.searchVal)?(this.count++,e[this.selectVal]=this.selectData[t][this.selectVal],this.selectDatas[t]=e):this.selectDatas[t]=e;console.log(this.count)},selectedData:function(e){if(this.chooseVal="",this.finSelectData=[],this.multi){var t=this.selectArr.indexOf(e);for(var s in-1==t?(this.selectArr.push(e),this.isSelect[e]=!0):(this.selectArr.splice(t,1),this.isSelect[e]=!1),this.selectArr){var i=this.selectDatas[this.selectArr[s]][this.selectVal];this.selectArr.length-1!=s&&(i+=","),this.chooseVal=this.chooseVal+i}}else{for(var a in this.selectArr[0]=e,this.chooseVal=this.selectDatas[this.selectArr[0]][this.selectVal],this.isSelect)this.isSelect[a]=!1;this.isSelect[e]=!0,this.isShowList=!1}var l=!0,n=!1,o=void 0;try{for(var r,h=c()(this.selectArr);!(l=(r=h.next()).done);l=!0){var u=r.value;this.finSelectData.push(this.selectData[u])}}catch(e){n=!0,o=e}finally{try{!l&&h.return&&h.return()}finally{if(n)throw o}}}},mounted:function(){window.addEventListener("click",this.clickOther),this.selectDatas=[].concat(a()(this.selectData))},beforeDestroy:function(){window.removeEventListener("click",this.clickOther)},watch:{isShowList:function(e,t){e?(this.searchVal="",this.selectDatas=[].concat(a()(this.selectData)),this.count=-1):this.$emit("finSelectData",this.finSelectData)}},props:{selectWid:{default:"200px"},selectHei:{default:"32px"},selectData:{},selectVal:{default:"value"},multi:{default:!1},allowSearch:{default:!1},isTitle:{default:!1}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loong-select",style:{width:e.selectWid}},[s("div",{ref:"selectBox",staticClass:"select-box fs14 c3",class:[e.isShowList?"select-box-selected":""],style:{height:e.selectHei,lineHeight:e.selectHei},on:{click:function(t){return e.selectBox()}}},[s("div",{staticClass:"select ellip",attrs:{title:[e.isTitle?e.chooseVal:""]}},[e._v(e._s(e.chooseVal))]),e._v(" "),s("div",{staticClass:"select-icon",class:e.iconClass},[s("svg",{staticClass:"icon"},[s("use",{attrs:{"xlink:href":"#icon-xiajiantou"}})])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowList,expression:"isShowList"}],ref:"listBox",staticClass:"list-box",style:{top:parseInt(e.selectHei)+2+"px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.allowSearch,expression:"allowSearch"}],staticClass:"select-search-box",style:{height:e.selectHei,lineHeight:e.selectHei}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],staticClass:"select-search-input c9 fs12",attrs:{autocomplete:"off",placeholder:"过滤搜索"},domProps:{value:e.searchVal},on:{input:[function(t){t.target.composing||(e.searchVal=t.target.value)},function(t){return e.search()}]}})]),e._v(" "),s("ul",{staticClass:"option-list"},[e._l(e.selectDatas,function(t,i){return s("li",{directives:[{name:"show",rawName:"v-show",value:""!=t[e.selectVal],expression:"data[selectVal]!=''"}],staticClass:"option ellip c6 fs12",style:{height:e.selectHei,lineHeight:e.selectHei},attrs:{title:[e.isTitle?t[e.selectVal]:""]},on:{click:function(t){return e.selectedData(i)}}},[s("span",{class:[e.isSelect[i]?"color-1188dd":""]},[e._v(e._s(t[e.selectVal]))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.multi,expression:"multi"}],staticClass:"check",style:{height:e.selectHei,lineHeight:e.selectHei}},[s("svg",{staticClass:"icon",class:[e.isSelect[i]?"color-1188dd":""],attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-gou"}})])])])}),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:0==e.count||0==e.selectDatas.length,expression:"count==0||selectDatas.length==0"}],staticClass:"option ellip c9 fs14",staticStyle:{"text-align":"center","padding-top":"10px"}},[s("span",[e._v("无匹配数据")])])],2)])])},staticRenderFns:[]};var r={name:"selectTest",data:function(){return{selectWid:"200px",selectHei:"32px",selectVal:"value",multi:!0,allowSearch:!0,isTitle:!0,selectData:[]}},methods:{getData:function(e){console.log(e)},getTableData:function(){var e=this;this.$axios.get("http://13.15.11.34:3000/getSelect",{}).then(function(t){e.selectData=t.data.data,console.log(t.data.data)}).catch(function(e){alert("请求失败了哦")})}},created:function(){this.getTableData()},components:{loongSelect:s("VU/8")(n,o,!1,function(e){s("iFTj")},"data-v-7c0f397e",null).exports}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"select"},[s("loongSelect",{attrs:{selectWid:e.selectWid,selectData:e.selectData,selectVal:e.selectVal,multi:e.multi,allowSearch:e.allowSearch,isTitle:e.isTitle,selectHei:e.selectHei},on:{finSelectData:e.getData}})],1)},staticRenderFns:[]};var u=s("VU/8")(r,h,!1,function(e){s("RpDB")},"data-v-ba77bd96",null);t.default=u.exports},iFTj:function(e,t){}});
//# sourceMappingURL=5.b90300250e606c916d24.js.map