webpackJsonp([7],{"0NiE":function(t,e){},hBNK:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"loongProgress",data:function(){return{value:"0%",lineWid:"0",count:0,top:"-6px",left:"0px",slideColor:this.isColor||""==this.slideBackColor?"#1188DD":this.slideBackColor,showTxt:""==this.txt?"":this.txt,num:0,canvas:"",ctx:"",center:parseInt(this.proSize)/2,rad:parseInt(this.proSize)/2,step:"",isCycle:!1}},props:{isCircle:{default:!0},proSize:{default:"110px"},slideHeight:{default:5},proValue:{default:.5},txt:{},fontSize:{default:"12px"},fontColor:{},fontFamily:{default:"PingFangSC-Regular"},fontWeight:{default:"500"},txtPosition:{default:"right"},panRadius:{default:2},slideRadius:{default:2},backgroundColor:{default:"#E9ECEF"},isColor:{default:!0},slideBackColor:{default:""},isGradient:{default:!1},shadowBlur:{default:!0},startAngle:{default:1.5*Math.PI},endAngle:{default:3.5*Math.PI},counterclockwise:{default:!1},scale:{default:!1},scaleHeight:{default:5},scaleWidth:{default:2},lineCap:{default:"round"}},methods:{textPosition:function(){var t=void 0,e=void 0,i=void 0,s=this.slideHeight;this.isCircle?(s=this.proSize,t=this.$refs.percentText1.clientWidth,e=this.$refs.percentText1.clientHeight,i=(parseInt(this.proSize)-t)/2):(t=this.$refs.percentText.clientWidth,e=this.$refs.percentText.clientHeight,i=(parseInt(this.proSize)-t)/2),"center"==this.txtPosition?(this.top=(parseInt(s)-e)/2+"px",this.left=i>0?i+"px":"0px"):"top"==this.txtPosition?(this.top=-(e+5)+"px",this.left=i>0?i+"px":"0px"):"bottom"==this.txtPosition?(this.top=parseInt(s)+"px",this.left=i>0?i+"px":"0px"):(this.top=(parseInt(s)-e)/2+"px",this.left=parseInt(this.proSize)+10+"px")},percentageNow:function(t){this.isColor?this.getColor(t):this.isColor||""==this.slideBackColor||(this.slideColor=this.slideBackColor),this.lineWid=t+"%"},getColor:function(t){this.slideColor=t>=0&&t<=70?"#1188DD":"#ff2222"},drawBackground:function(){var t=this.$refs.progressCircle.getContext("2d");t.strokeStyle="#E9ECEF",t.beginPath(),t.lineWidth=this.slideHeight,t.arc(this.center,this.center,this.rad-this.slideHeight,this.startAngle,this.endAngle,!1),t.stroke(),this.scale&&this.drawScale(t)},drawScale:function(t){for(var e=this.startAngle,i=this.rad-2*this.slideHeight-this.scaleHeight,s=i*Math.cos(e),o=i*Math.sin(e),a=this.rad-2*this.slideHeight,r=a*Math.cos(e),n=a*Math.sin(e),l=(this.endAngle-this.startAngle)/(10*Math.PI),h=0;h<11;h++){t.save(),t.beginPath(),t.lineCap=this.lineCap,t.translate(this.center,this.center);var d=h*l*Math.PI;t.rotate(d),t.strokeStyle=this.backgroundColor,t.lineWidth=this.scaleWidth,t.moveTo(s,o),t.lineTo(r,n),t.stroke(),t.closePath(),t.restore()}},drawProgressBar:function(t,e){var i=this.startAngle;if(this.counterclockwise&&(i=2*Math.PI-this.startAngle),this.canvas=this.$refs.progressBar,this.ctx=this.canvas.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),!this.isGradient||this.isColor)this.getColor(e),this.ctx.strokeStyle=this.slideColor;else{var s=this.center+this.rad*Math.cos(this.startAngle),o=this.center+this.rad*Math.sin(this.startAngle),a=this.center-this.rad*Math.cos(this.startAngle),r=this.center-this.rad*Math.sin(this.startAngle),n=this.ctx.createLinearGradient(s,o,a,r);n.addColorStop(0,"#32E8FF"),n.addColorStop(1,"#C832FF"),this.ctx.strokeStyle=n}this.drawAnimation(i/Math.PI,i/Math.PI,t,!1)},drawAnimation:function(t,e,i,s){i=parseFloat(i);var o=this;this.step=requestAnimationFrame(function(){window.setTimeout(function(){o.counterclockwise?(e=parseFloat((e-.04).toFixed(2)),i<=t?o.isCycle=!0:e<0&&(e=2,o.isCycle=!0),e<=i&&o.isCycle&&(s=!0,e=i),o.drawAnimation(t,e,i,s)):((e+=.04)>=i&&(s=!0,e=i),o.drawAnimation(t,e,i,s))},1e3/60)}),s&&(this.isCycle=!1,window.cancelAnimationFrame(this.step)),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.lineCap=this.lineCap,this.ctx.lineWidth=this.slideHeight,this.ctx.arc(this.center,this.center,this.rad-this.slideHeight,t*Math.PI,e*Math.PI,this.counterclockwise),this.shadowBlur&&(this.ctx.shadowOffsetY=4,this.ctx.shadowBlur=4,this.ctx.shadowColor="rgba(11,106,173,0.3)"),this.ctx.stroke()},chooseWay:function(t){if(this.isCircle){var e=void 0;if(this.counterclockwise){var i=2-this.startAngle/Math.PI;e=(e=i-t*((2-(4-this.endAngle/Math.PI-i))/100))<0?(2+e).toFixed(2):e.toFixed(2)}else{e=(t*((this.endAngle/Math.PI-this.startAngle/Math.PI)/100)+this.startAngle/Math.PI).toFixed(2)}this.drawProgressBar(e,t)}else this.percentageNow(t)}},mounted:function(){this.drawBackground(),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,this.$nextTick(function(){var t=parseFloat(this.proValue);t=t>1?t:100*t,this.chooseWay(t.toFixed(2)),this.textPosition()})},beforeDestroy:function(){window.cancelAnimationFrame(this.step)},watch:{proValue:function(t,e){this.$nextTick(function(){var e=parseFloat(t)<=1?100*parseFloat(t):parseFloat(t);this.chooseWay(e),this.textPosition(),this.showTxt=""==this.txt?"":e+"%"})}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loong-progress"},[i("br"),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCircle,expression:"!isCircle"}],staticClass:"line-progress panWrap",style:{width:t.proSize,height:parseInt(t.slideHeight)+"px",borderRadius:parseInt(t.panRadius)+"px",backgroundColor:t.backgroundColor}},[i("div",{ref:"changeLine",staticClass:"line-progress-percentage change-line",style:{width:t.lineWid,borderRadius:parseInt(t.slideRadius)+"px",background:t.isGradient?"linear-gradient(to right, #32E8FF 0%, #C832FF "+parseInt(t.proSize)+"px)":"",backgroundColor:t.isGradient?"":t.slideColor}}),t._v(" "),i("div",{ref:"percentText",staticClass:"percentText",staticStyle:{"max-width":"100%"},style:{fontSize:t.fontSize,fontColor:t.fontColor,fontFamily:t.fontFamily,fontWeight:t.fontWeight,top:t.top,left:t.left},domProps:{innerHTML:t._s("function"==typeof t.txt?t.txt(this.proValue):t.showTxt)}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isCircle,expression:"isCircle"}],staticClass:"panWrap"},[i("canvas",{ref:"progressCircle",attrs:{width:parseInt(t.proSize),height:parseInt(t.proSize)}}),t._v(" "),i("canvas",{ref:"progressBar",staticStyle:{position:"absolute",top:"0px",left:"0px"},attrs:{width:parseInt(t.proSize),height:parseInt(t.proSize)}}),t._v(" "),i("div",{ref:"percentText1",staticClass:"percentText",staticStyle:{"max-width":"100%","text-align":"center"},style:{fontSize:t.fontSize,fontColor:t.fontColor,fontFamily:t.fontFamily,fontWeight:t.fontWeight,top:t.top,left:t.left},domProps:{innerHTML:t._s("function"==typeof t.txt?t.txt(this.proValue):t.showTxt)}})])])},staticRenderFns:[]};var a={name:"progressTest",data:function(){return{isCircle:!0,proSize:"160px",slideHeight:5,proValue:"70%",proValue1:"40%",txt:function(t){return'<div style="font-size: 30px">'+t+'</div><div style="font-size: 12px;width: 100%">哈哈哈哈哈哈哈哈哈哈</div>'},fontSize:"12px",fontColor:"",fontFamily:"PingFangSC-Regular",fontWeight:"500",txtPosition:"center",panRadius:2,slideRadius:2,backgroundColor:"#E9ECEF",isColor:!0,slideBackColor:"",isGradient:!1,shadowBlur:!0,startAngle:.75*Math.PI,endAngle:2.25*Math.PI,time:""}},mounted:function(){var t=this;this.time=setInterval(function(){t.proValue=(100*Math.random()).toFixed(2)+"%",t.proValue1=(100*Math.random()).toFixed(2)+"%"},3e3)},destroyed:function(){clearInterval(this.time)},components:{loongProgress:i("VU/8")(s,o,!1,function(t){i("0NiE")},"data-v-7c8824b0",null).exports}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"calc(100% - 20px)","margin-top":"20px","background-color":"#FFFFFF"}},[i("loongProgress",{attrs:{proSize:t.proSize,proValue:t.proValue,txtPosition:t.txtPosition,slideHeight:t.slideHeight,panRadius:t.panRadius,slideRadius:t.slideRadius,backgroundColor:t.backgroundColor,isColor:t.isColor,counterclockwise:!0,scale:!0,slideBackColor:t.slideBackColor,txt:t.proValue,isCircle:!1,startAngle:t.startAngle,endAngle:t.endAngle}}),t._v(" "),i("loongProgress",{attrs:{proSize:t.proSize,proValue:t.proValue,txtPosition:t.txtPosition,slideHeight:t.slideHeight,panRadius:t.panRadius,slideRadius:t.slideRadius,backgroundColor:t.backgroundColor,isColor:t.isColor,counterclockwise:!0,scale:!0,slideBackColor:t.slideBackColor,txt:t.proValue,isCircle:!0,startAngle:t.startAngle,endAngle:t.endAngle}}),t._v(" "),i("loongProgress",{attrs:{proSize:t.proSize,proValue:t.proValue1,txtPosition:t.txtPosition,fontSize:"30px",slideHeight:t.slideHeight,panRadius:t.panRadius,slideRadius:t.slideRadius,txt:t.txt,isGradient:!1,isColor:!1,isCircle:!0}})],1)},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(t){i("j++g")},"data-v-78519cad",null);e.default=n.exports},"j++g":function(t,e){}});
//# sourceMappingURL=7.6db3b0556f2d38514b7d.js.map